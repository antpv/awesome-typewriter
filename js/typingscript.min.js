"use strict";var _createClass=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}();function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var core=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"type",value:function(t){return this._stack.push({value:t,func:"_type"}),this}},{key:"delete",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"all";return this._stack.push({value:t,func:"_delete"}),this}},{key:"pause",value:function(t){return this._stack.push({value:t,func:"_pause"}),this}},{key:"break",value:function(){return this._stack.push({func:"_break"}),this}},{key:"options",value:function(t){return this._stack.push({value:t,func:"_options"}),this}},{key:"freeze",value:function(){this._stop=!0}},{key:"unfreeze",value:function(){this._stop=!1}},{key:"_type",value:function(e){var n=this,i=0,r=setTimeout(function t(){n._stop?r=setTimeout(t,30):(n._renderString+=e[i],i++,n._render(),i<e.length?r=setTimeout(t,n._speed):(clearTimeout(r),++n._i,n._nextIteration()))},n._speed)}},{key:"_delete",value:function(n){var i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this,o=0,s=r._removalRate;"all"==n&&(n=r._renderString.length);var a=setTimeout(function t(){if(r._stop)a=setTimeout(t,30);else{var e=r._renderString.indexOf("<br>",r._renderString.length-4);r._renderString=0<e?r._renderString.slice(0,r._renderString.length-4):r._renderString.slice(0,r._renderString.length-1),o++,r._render(),o<n?a=setTimeout(t,s):(clearTimeout(a),i||++r._i,r._nextIteration())}},s)}},{key:"_pause",value:function(t){var e=this;++this._i,setTimeout(function(){e._nextIteration()},t)}},{key:"_break",value:function(){this._renderString+="<br>",this._render(),++this._i,this._nextIteration()}},{key:"_options",value:function(t){var e=t.element;this._element=void 0===e?this._element:e;var n=t.autoStart;this._autoStart=void 0===n?this._autoStart:n;var i=t.speed;this._speed=void 0===i?this._speed:i;var r=t.removalRate;this._removalRate=void 0===r?this._removalRate:r;var o=t.loop;this._loop=void 0===o?this._loop:o,++this._i,this._nextIteration()}},{key:"_reset",value:function(){this._delete(this._renderString.length,!0);var t=this._firstOptions;this._element=t.element;var e=t.autoStart;this._autoStart=void 0!==e&&e;var n=t.speed;this._speed=void 0===n?60:n;var i=t.removalRate;this._removalRate=void 0===i?30:i;var r=t.afterStringPause;this.afterStringPause=void 0===r?1e3:r;var o=t.loop;this._loop=void 0!==o&&o}},{key:"_nextIteration",value:function(){this._i>=this._stack.length&&!this._loop||(this._i>=this._stack.length&&this._loop?(this._i=0,this._reset()):this._i<this._stack.length&&this[this._stack[this._i].func](this._stack[this._i].value))}},{key:"_render",value:function(){this._element.innerHTML=this._renderString}}]),t}(),typing=function(t){function f(t){_classCallCheck(this,f);var l=_possibleConstructorReturn(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));!1!==t.cursor&&(t.cursor=!0);var e=document.createElement("span"),n=document.createElement("span");if(n.style.color="inherit",t.element.appendChild(e),e.appendChild(n),!0===t.cursor){var i=document.createElement("span");if(i.style.color="inherit",i.innerHTML=t.cursorHTML||"|",!1!==t.blinkingCursor&&!document.getElementById("typing-style")){var r=document.createElement("style");r.setAttribute("id","typing-style"),r.innerHTML="@keyframes blink { 50% { opacity: 0; } }",document.head.appendChild(r)}i.style.cssText="\t\t\t\tanimation-name: blink;\t\t\t\tanimation-timing-function: ease-in-out;\t\t\t\tanimation-duration: 1s;\t\t\t\tanimation-iteration-count: infinite;\t\t\t\tdisplay: inline-block;",e.appendChild(i)}t.element=n,l._firstOptions=t,l._element=t.element;var o=t.autoStart;l._autoStart=void 0!==o&&o;var s=t.speed;l._speed=void 0===s?60:s;var a=t.removalRate;l._removalRate=void 0===a?30:a;var u=t.afterStringPause;l.afterStringPause=void 0===u?1e3:u;var c=t.loop;if(l._loop=void 0!==c&&c,l._renderString="",l._i=0,l._stack=[],l._stop=!1,void 0!==t.strings)for(var _=0;_<t.strings.length;_++)l._stack.push({value:t.strings[_],func:"_type"}),l._stack.push({value:l.afterStringPause,func:"_pause"}),l._stack.push({value:t.strings[_].length,func:"_delete"});l.start=!1,setTimeout(function(){l._autoStart?l._nextIteration():(document.addEventListener("scroll",h),h())},0);var h=function(){if(!l.start){var t=window.pageYOffset,e=window.pageXOffset+document.documentElement.clientWidth,n=window.pageYOffset+document.documentElement.clientHeight,i=window.pageXOffset,r=l._element.getBoundingClientRect(),o=r.top+window.pageYOffset,s=r.left+window.pageXOffset,a=r.bottom+window.pageYOffset,u=r.right+window.pageXOffset;t<a&&o<n&&i<u&&s<e&&(console.log("Typing script started"),l.start=!0,l._nextIteration())}};return l}return _inherits(f,core),f}();
